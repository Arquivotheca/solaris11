'\" te
.\" 版权所有 (c) 2008, 2010, Oracle 和/或其附属公司。保留所有权利。
.TH deallocate 1 "2010 年 8 月 12 日" "SunOS 5.11" "用户命令"
.SH 名称
deallocate \- 设备解除分配
.SH 用法概要
.LP
.nf
\fBdeallocate\fR [\fB-s\fR] [\fB-w\fR] [\fB-F\fR] [\fB-z\fR \fIzonename\fR] 
     [\fB-c\fR \fIdev-class\fR | \fB-g\fR \fIdev-type\fR | \fIdevice\fR]
.fi

.LP
.nf
\fBdeallocate\fR [\fB-s\fR] [\fB-w\fR] [\fB-F\fR] [\fB-z\fR \fIzonename\fR] \fB-I\fR 
.fi

.SH 描述
.sp
.LP
\fBdeallocate\fR 命令用于释放已分配的设备。它会重置与设备关联的所有设备特殊文件的所有权和权限，同时禁止对该设备的访问。\fBdeallocate\fR 会对 \fBdevice_allocate\fR(4) 中所指定的设备运行设备清除程序。 
.sp
.LP
缺省 \fBdeallocate\fR 操作会解除分配已分配给用户的设备。 
.SH 选项
.sp
.LP
支持下列选项：
.sp
.ne 2
.mk
.na
\fB\fB-c\fR \fIdev-class\fR\fR
.ad
.RS 16n
.rt  
解除分配指定设备类的所有设备。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-F\fR \fIdevice\fR\fR
.ad
.RS 16n
.rt  
强制解除分配与 \fIdevice\fR 所指定的文件关联的设备。仅允许具有 \fBsolaris.device.revoke\fR 授权的用户使用此选项。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-I\fR\fR
.ad
.RS 16n
.rt  
强制解除分配所有可分配设备。仅允许具有 \fBsolaris.device.revoke\fR 授权的用户使用此选项。此选项应仅在系统初始化时使用。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fR
.ad
.RS 16n
.rt  
无提示。抑制任何诊断信息的输出。
.RE

.sp
.LP
以下选项在系统上配置有 Trusted Extensions 时受支持：
.sp
.ne 2
.mk
.na
\fB\fB-g\fR \fIdev-type\fR\fR
.ad
.RS 15n
.rt  
解除分配设备类型与 \fIdev-type\fR 匹配的设备。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-w\fR\fR
.ad
.RS 15n
.rt  
在窗口环境中运行设备清理程序。如果该程序的窗口版本存在，则会使用窗口版本。否则，将在终端窗口中运行标准版本。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-z\fR \fIzonename\fR\fR
.ad
.RS 15n
.rt  
解除分配 \fIzonename\fR 所指定的区域中的设备。
.RE

.SH 操作数
.sp
.LP
支持下列操作数：
.sp
.ne 2
.mk
.na
\fB\fIdevice\fR\fR
.ad
.RS 10n
.rt  
解除分配指定的 \fIdevice\fR。
.RE

.SH 退出状态
.sp
.LP
将返回以下退出值：
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 13n
.rt  
成功完成。
.RE

.sp
.ne 2
.mk
.na
\fB\fB20\fR\fR
.ad
.RS 13n
.rt  
对于指定的设备没有任何项。
.RE

.sp
.ne 2
.mk
.na
\fB\fI其他值\fR\fR
.ad
.RS 13n
.rt  
出现错误。
.RE

.SH 文件
.sp
.LP
\fB/etc/security/device_allocate\fR
.sp
.LP
\fB/etc/security/device_maps\fR
.sp
.LP
\fB/etc/security/dev/*\fR
.sp
.LP
\fB/etc/security/lib/*\fR
.SH 属性
.sp
.LP
有关下列属性的描述，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/core-os
_
接口稳定性请参见下文。
.TE

.sp
.LP
调用是 "Uncommitted"（未确定）。选项为 "Uncommitted"（未确定）。输出是 Not-an-Interface。
.SH 另请参见
.sp
.LP
\fBallocate\fR(1)、\fBlist_devices\fR(1)、\fBdevice_allocate\fR(1M)、\fBdminfo\fR(1M)、\fBmkdevalloc\fR(1M)、\fBmkdevmaps\fR(1M)、\fBdevice_allocate\fR(4)、\fBdevice_maps\fR(4)、\fBattributes\fR(5)
.sp
.LP
\fI控制对设备的访问\fR
.SH 附注
.sp
.LP
只有 Solaris 审计功能启用后，本手册页中描述的功能才可用。 
.sp
.LP
只有 \fBdevice_allocate\fR(1M) 服务启用后，本手册页中描述的功能才可用。
.sp
.LP
在配置有 Trusted Extensions 的系统上，该功能是缺省启用的。
.sp
.LP
Solaris 操作环境的将来发行版可能不再支持 \fB/etc/security/dev\fR、\fBmkdevalloc\fR(1M) 和 \fBmkdevmaps\fR(1M)。
