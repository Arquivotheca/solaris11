'\" te
.\"  Copyright 1989 AT&T Copyright (c) 2005, Sun Microsystems, Inc. All Rights Reserved
.TH ckpath 1 "2005 年 11 月 4 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
ckpath, errpath, helppath, valpath \- パス名の入力要求とその検証
.SH 形式
.LP
.nf
\fBckpath\fR [\fB-Q\fR] [\fB-W\fR \fIwidth\fR] [\fB-a\fR | l] [\fB-b\fR | c | f | y] 
     [\fB-n\fR [o | z]] [\fB-rtwx\fR] [\fB-d\fR \fIdefault\fR] [\fB-h\fR \fIhelp\fR] 
     [\fB-e\fR \fIerror\fR] [\fB-p\fR \fIprompt\fR] [\fB-k\fR \fIpid\fR [\fB-s\fR \fIsignal\fR]]
.fi

.LP
.nf
\fB/usr/sadm/bin/errpath\fR [\fB-W\fR \fIwidth\fR] [\fB-a\fR | l] [\fB-b\fR | c | f | y] 
     [\fB-n\fR [o | z]] [\fB-rtwx\fR] [\fB-e\fR \fIerror\fR]
.fi

.LP
.nf
\fB/usr/sadm/bin/helppath\fR [\fB-W\fR \fIwidth\fR] [\fB-a\fR | l] [\fB-b\fR | c | f | y] 
     [\fB-n\fR [o | z]] [\fB-rtwx\fR] [\fB-h\fR \fIhelp\fR]
.fi

.LP
.nf
\fB/usr/sadm/bin/valpath\fR [\fB-a\fR | l] [\fB-b\fR | c | f | y] 
     [\fB-n\fR [o | z]] [\fB-rtwx\fR] \fIinput\fR
.fi

.SH 機能説明
.sp
.LP
\fBckpath\fR ユーティリティは、ユーザーに入力を要求するプロンプトを出力し、ユーザーの応答を検証します。このユーティリティでは、ユーザーにパス名の入力を促すプロンプトメッセージ、ヘルプメッセージおよびエラーメッセージ、およびデフォルト値 (ユーザーが RETURN キーで応答した場合に返される値) をオプションにより定義できます。
.sp
.LP
パス名は、最初のオプショングループで指定した基準に従わなければなりません。基準が定義されていない場合、パス名はまだ存在していない通常のファイルに対するものでなければなりません。\fB-a\fR (絶対) と \fB-l\fR (相対) のいずれも指定されていない場合は、どちらかが有効であるとみなされます。
.sp
.LP
メッセージの長さはすべて最大 79 文字に制限され、自動的に書式化されます。メッセージ定義内で 1 つのスペース文字の後にあるタブと復帰改行は削除されますが、スペースは削除されません。メッセージ定義の最初または最後にチルド文字がある場合は、そこにデフォルトテキストが挿入されて、指定したテキストとデフォルトテキストの両方を表示することができます。
.sp
.LP
プロンプトメッセージ、ヘルプメッセージ、またはエラーメッセージが定義されていない場合は、デフォルトメッセージ (「使用例」の項を参照) が表示されます。
.sp
.LP
\fBckpath\fR コマンドには、3 つのビジュアルツールモジュールがリンクされています。これらのモジュールは、\fBerrpath\fR (標準出力上にエラーメッセージを書式化して表示する)、\fBhelppath\fR (標準出力上にヘルプメッセージを書式化して表示する)、および \fBvalpath\fR (応答を検証する) です。 
.SH オプション
.sp
.LP
次のオプションがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fB-a\fR\fR
.ad
.RS 14n
.rt  
パス名は絶対パスでなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-b\fR\fR
.ad
.RS 14n
.rt  
パス名はブロック型特殊ファイルでなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-c\fR\fR
.ad
.RS 14n
.rt  
パス名は文字型特殊ファイルでなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-d\fR \fIdefault\fR\fR
.ad
.RS 14n
.rt  
\fIdefault\fR をデフォルト値として定義します。デフォルト値は検証されないため、どのような基準も満たす必要はありません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-e\fR \fIerror\fR\fR
.ad
.RS 14n
.rt  
\fIerror\fR をエラーメッセージとして定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR\fR
.ad
.RS 14n
.rt  
パス名は通常ファイルでなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-h\fR \fIhelp\fR\fR
.ad
.RS 14n
.rt  
\fIhelp\fR をヘルプメッセージとして定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-k\fR \fIpid\fR\fR
.ad
.RS 14n
.rt  
ユーザーが中断を選択した場合、プロセス \fBID\fR \fIpid\fR のプロセスにシグナルを送信するようにします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-l\fR\fR
.ad
.RS 14n
.rt  
パス名は相対パスでなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR\fR
.ad
.RS 14n
.rt  
パス名が存在していてはなりません (新規のものでなければなりません)。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-o\fR\fR
.ad
.RS 14n
.rt  
パス名が存在していなければなりません (既存のものでなければなりません)。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR \fIprompt\fR\fR
.ad
.RS 14n
.rt  
\fIprompt\fR をプロンプトメッセージとして定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Q\fR\fR
.ad
.RS 14n
.rt  
有効な応答として終了 (\fBquit\fR) を使用できないようにします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-r\fR\fR
.ad
.RS 14n
.rt  
パス名は読み取り可能でなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR \fIsignal\fR\fR
.ad
.RS 14n
.rt  
終了が選択された場合、\fB-k\fR オプションで定義されたプロセス \fBID\fR \fIpid\fR のプロセスに、シグナル \fIsignal\fR を送信するようにします。シグナルを指定しないと、\fBSIGTERM\fR を送信します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-t\fR\fR
.ad
.RS 14n
.rt  
パス名は作成可能 (処理可能) でなければなりません。パス名が、まだ存在していない場合には作成されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-w\fR\fR
.ad
.RS 14n
.rt  
パス名は書き込み可能でなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-W\fR \fIwidth\fR\fR
.ad
.RS 14n
.rt  
プロンプトメッセージ、ヘルプメッセージ、およびエラーメッセージを、\fIwidth\fR の行長に書式化します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-x\fR\fR
.ad
.RS 14n
.rt  
パス名は実行可能でなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-y\fR\fR
.ad
.RS 14n
.rt  
パス名はディレクトリでなければなりません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-z\fR\fR
.ad
.RS 14n
.rt  
パス名には、0 バイトを超えるサイズのファイルがなければなりません。
.RE

.SH オペランド
.sp
.LP
次のオペランドがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fIinput\fR\fR
.ad
.RS 9n
.rt  
検証オプションと照合される入力
.RE

.SH 使用例
.sp
.LP
\fBckpath\fR のデフォルトメッセージのテキストは、使用されている基準オプションによって異なります。
.LP
\fB例 1 \fRデフォルトのプロンプト
.sp
.LP
\fBckpath\fR (\fB-a\fR オプションを使用) のデフォルトプロンプトの例は、次のとおりです。

.sp
.in +2
.nf
example% \fBckpath \fR\fB-a\fR
Enter an absolute pathname [?,q]
.fi
.in -2
.sp

.LP
\fB例 2 \fRデフォルトのエラーメッセージ
.sp
.LP
デフォルトのエラーメッセージ (\fB-a\fR オプションを使用) の例は、次のとおりです。

.sp
.in +2
.nf
example% \fB/usr/sadm/bin/errpath \fR\fB-a\fR
ERROR: A pathname is a filename, optionally preceded by parent 
       directories.
       The pathname you enter: - must begin with a slash (/)
.fi
.in -2
.sp

.LP
\fB例 3 \fRデフォルトのヘルプメッセージ
.sp
.LP
デフォルトのヘルプメッセージ (\fB-a\fR オプションを使用) の例は、次のとおりです。

.sp
.in +2
.nf
example% \fB/usr/sadm/bin/helppath \fR\fB-a\fR
A pathname is a filename, optionally preceded by parent directories.
The pathname you enter: - must begin with a slash (/)
.fi
.in -2
.sp

.LP
\fB例 4 \fR終了オプション
.sp
.LP
終了オプションを選択した場合 (かつ使用できる場合) は、リターンコード \fB3\fR と共に \fBq\fR が返されます。終了を入力すると、後に復帰改行が続きます。

.LP
\fB例 5 \fRvalpath モジュールの使用
.sp
.LP
\fBvalpath\fR モジュールは、標準エラー出力に使用法に関するメッセージを出力します。正常終了した場合は \fB0\fR、失敗した場合には 0 以外の値を返します。

.sp
.in +2
.nf
example% \fB/usr/sadm/bin/valpath\fR
usage: valpath [\fB-[a|l][b|c|f|y][n|[o|z]]rtwx\fR] input
    .
    .
    .
.fi
.in -2
.sp

.SH 終了ステータス
.sp
.LP
次の終了値が返されます。
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 5n
.rt  
正常終了。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 5n
.rt  
入力で \fBEOF\fR が検出された、\fB-W\fR オプションで負の行長が指定された、または使用法に誤りがあった。
.RE

.sp
.ne 2
.mk
.na
\fB\fB2\fR\fR
.ad
.RS 5n
.rt  
同時に指定できないオプション。
.RE

.sp
.ne 2
.mk
.na
\fB\fB3\fR\fR
.ad
.RS 5n
.rt  
ユーザー終了 (quit)。
.RE

.sp
.ne 2
.mk
.na
\fB\fB4\fR\fR
.ad
.RS 5n
.rt  
同時に指定できないオプション。
.RE

.SH 属性
.sp
.LP
属性についての詳細は、\fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
.TE

.SH 関連項目
.sp
.LP
\fBsignal.h\fR(3HEAD), \fBattributes\fR(5)
