'\" te
.\"  Copyright (c) 2004, Sun Microsystems, Inc. All Rights Reserved.
.TH w 1 "2004 年 3 月 19 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
w \- 現在ログインしているユーザーに関する情報の表示
.SH 形式
.LP
.nf
\fBw\fR [\fB-hlsuw\fR] [\fIuser\fR]
.fi

.SH 機能説明
.sp
.LP
\fBw\fR コマンドは、システム内の現在のアクティビティーの要約を表示します。これには、各ユーザーが行なっている処理が含まれます。ヘッダー行には、現在の時刻、システムが起動されてからの時間、システムにログインしているユーザー数、および (直近の 1、5、および 15 分間に) 実行待ち行列に入っていた平均ジョブ数が表示されます。
.sp
.LP
表示されるフィールドは、ユーザーのログイン名、ユーザーが使用している tty の名前、ユーザーがログオンした時刻 (\fI時:分\fRの形式)、アイドル時間 (ユーザーが最後に何かを入力してから経過した時間、\fI時:分\fRの形式)、その端末のすべてのプロセスおよびその子プロセスによって使用された \fBCPU\fR 時間 (\fI分:秒\fRの形式)、現在アクティブなプロセスによって使用された \fBCPU\fR 時間 (\fI分:秒\fRの形式)、および現在のプロセスの名前と引数です。
.SH オプション
.sp
.LP
次のオプションがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fB-h\fR\fR
.ad
.RS 6n
.rt  
ヘッダー行を抑制します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-l\fR\fR
.ad
.RS 6n
.rt  
長形式の出力を生成します。これはデフォルトです。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fR
.ad
.RS 6n
.rt  
短形式の出力を生成します。短形式では、tty は省略形になり、ログイン時間と \fBCPU\fR 時間は出力されず、コマンドの引数も出力されません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-u\fR\fR
.ad
.RS 6n
.rt  
ヘッダー行を生成します。ヘッダー行には、現在の時刻、システムが起動されてからの時間、システムにログインしているユーザー数、および (直近の 1、5、および 15 分間に) 実行待ち行列に入っていた平均ジョブ数が表示されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-w\fR\fR
.ad
.RS 6n
.rt  
長形式の出力を生成します。これもデフォルトと同じです。
.RE

.SH オペランド
.sp
.ne 2
.mk
.na
\fB\fIuser\fR\fR
.ad
.RS 8n
.rt  
ログイン情報を表示する、特定のユーザーの名前。指定すると、出力がそのユーザーに限定されます。
.RE

.SH 使用例
.LP
\fB例 1 \fR\fBw\fR コマンドの出力例
.sp
.in +2
.nf
example% \fBw\fR


10:54am  up 27 day(s), 57 mins,  1 user,  load average: 0.28, 0.26, 0.22
User	    tty		    login@    idle	   JCPU	   PCPU	    what
ralph    console  7:10am    1       10:05   4:31     w
.fi
.in -2
.sp

.SH 環境
.sp
.LP
\fBw\fR の実行に影響を与える次の環境変数についての詳細は、\fBenviron\fR(5) を参照してください。\fBLC_CTYPE\fR、\fBLC_MESSAGES\fR、および \fBLC_TIME\fR。
.SH ファイル
.sp
.ne 2
.mk
.na
\fB\fB/var/adm/utmpx\fR\fR
.ad
.RS 18n
.rt  
ユーザーとアカウンティングの情報
.RE

.SH 属性
.sp
.LP
属性についての詳細は、\fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
.TE

.SH 関連項目
.sp
.LP
\fBps\fR(1), \fBwho\fR(1), \fBwhodo\fR(1M), \fButmpx\fR(4), \fBattributes\fR(5), \fBenviron\fR(5)
.SH 注意事項
.sp
.LP
「現在のプロセス」の概念は明確ではありません。現在のアルゴリズムでは、「割り込みを無視しない端末上のもっとも大きい番号のプロセス、またはそれが存在しない場合は、端末上のもっとも大きい番号のプロセス」です。これには欠陥があり、たとえば、シェルやエディタなどのプログラムの重要なセクションにおいて、またはバックグラウンドで実行される不正なプログラムが生成され、割り込みを無視することに失敗した場合などに誤ったプロセスが選択されます。プロセスを見つけることができない場合、\fBw\fR は \fB\(mi\fR を出力します。
.sp
.LP
\fBCPU\fR 時間は見積りでしかありません。特に、あるユーザーがバックグラウンドプロセスを実行したままログアウトした場合、現在その端末を使用しているユーザーに時間で「課せられ」ます。
.sp
.LP
バックグラウンドプロセスは、システムに大きな負荷をかけますが出力には表示されません。
.sp
.LP
プロセス (特にバックグラウンドプロセスなど) は、NULL または不要になった引数として出力されることがあります。これらの場合、コマンド名が括弧で囲まれて出力されます。
.sp
.LP
\fBw\fR では、バックグラウンドジョブを検出する規則が認識されません。このため、通常のジョブではなくバックグラウンドジョブを検出することがあります。
