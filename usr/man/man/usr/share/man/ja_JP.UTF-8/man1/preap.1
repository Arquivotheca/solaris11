'\" te
.\" Copyright (c) 2006, Sun Microsystems, Inc. All Rights Reserved
.TH preap 1 "2006 年 6 月 19 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
preap \- すでに存在しないプロセスの親による取得の強制
.SH 形式
.LP
.nf
\fBpreap\fR [\fB-F\fR] \fIpid\fR...
.fi

.SH 機能説明
.sp
.LP
すでに存在しない (またはゾンビ) プロセスとは、終了ステータスが親によってまだ取得されていないプロセスです。終了ステータスは、\fBwait\fR(3C)、\fBwaitid\fR(2)、または \fBwaitpid\fR(3C) システム呼び出しによって取得されます。通常のシステム運用では、ゾンビが発生する可能性はありますが、一般的には短時間存在するのみです。これは、親が一部の子またはすべての子の終了ステータスを取得せずに終了した場合に発生することがあります。この場合、それらの子の親は \fBPID 1\fR に設定されます。そのようなプロセスの定期的な取得については、\fBinit\fR(1M) を参照してください。
.sp
.LP
中途な状態の親プロセスは長時間終了できず、ゾンビがシステムに残ります。オペレーティングシステムは、プロセスが存在しなくなる前にプロセスのほとんどすべてのコンポーネントを破棄するので、通常、そのような存在しないプロセスはシステム動作に影響しません。ただし、それらは少量のシステムメモリーを消費します。
.sp
.LP
\fIpid\fR がすでに存在しないプロセスを表す場合、\fBpreap\fR は、\fIpid\fR によって指定されたプロセスの親が \fIpid\fR に対して \fBwaitid\fR(3C) を実行するように強制します。
.sp
.LP
\fBpreap\fR は、次の場合に、親によってまもなく取得される可能性がある子プロセスを、管理者が無分別に取得させることを防止しようとします。
.RS +4
.TP
.ie t \(bu
.el o
プロセスは \fBinit\fR(1M) の子である。
.RE
.RS +4
.TP
.ie t \(bu
.el o
親プロセスが停止していて、子の実行が再度許可されるのを待機している可能性があります。
.RE
.RS +4
.TP
.ie t \(bu
.el o
プロセスが存在しなくなってから 1 分間経過していない。
.RE
.SH オプション
.sp
.LP
次のオプションがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fB-F\fR\fR
.ad
.RS 6n
.rt  
安全検査を無効にして、親が子を取得するように強制します。
.RE

.SH オペランド
.sp
.LP
次のオペランドがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fIpid\fR\fR
.ad
.RS 7n
.rt  
プロセス \fBID\fR リスト。
.RE

.SH 使用法
.sp
.LP
\fB-F\fR フラグを使用するときは注意してください。2 つの制御プロセスを 1 つの犠牲プロセスに課すと混乱することがあります。一次制御プロセス (通常はデバッガ) が犠牲プロセスを停止しており、一次制御プロセスが当該の \fBproc\fR ツールの適用時に何も実行していない場合のみ、安全性が確保されます。
.SH 終了ステータス
.sp
.LP
次の終了値が \fBpreap\fR によって返されます。これは、終了させられた各ターゲットプロセスの終了値を出力しています。
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 12n
.rt  
正常に処理されました。
.RE

.sp
.ne 2
.mk
.na
\fB0 以外\fR
.ad
.RS 12n
.rt  
失敗 (該当するプロセスがない、アクセス権が拒否された、オプションが無効など)。
.RE

.SH 属性
.sp
.LP
属性についての詳細は、\fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件T{
system/extended-system-utilities (32 ビット)
T}
SUNWesxu (64 ビット)
.TE

.SH 関連項目
.sp
.LP
\fBproc\fR(1), \fBinit\fR(1M), \fBwaitid\fR(2), \fBwait\fR(3C), \fBwaitpid\fR(3C), \fBproc\fR(4), \fBattributes\fR(5)
.SH 警告
.sp
.LP
\fBpreap\fR は、存在しないプロセスが親プロセスによって取得されていないことを管理者または開発者が確認した場合にのみ、慎重に適用してください。そうしないと、\fBpreap\fR を適用したときに、予期しない動作で親プロセスに障害が発生する可能性があります。
