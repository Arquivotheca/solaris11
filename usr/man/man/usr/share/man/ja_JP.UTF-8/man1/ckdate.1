'\" te
.\"  Copyright 1989 AT&T Copyright (c) 1992, Sun Microsystems, Inc. All Rights Reserved
.TH ckdate 1 "1992 年 9 月 14 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
ckdate, errdate, helpdate, valdate \- 日付の入力要求とその検証
.SH 形式
.LP
.nf
\fBckdate\fR [\fB-Q\fR] [\fB-W\fR \fIwidth\fR] [\fB-f\fR \fIformat\fR] [\fB-d\fR \fIdefault\fR] [\fB-h\fR \fIhelp\fR] 
     [\fB-e\fR \fIerror\fR] [\fB-p\fR \fIprompt\fR] [\fB-k\fR \fIpid\fR [\fB-s\fR \fIsignal\fR]]
.fi

.LP
.nf
\fB/usr/sadm/bin/errdate\fR [\fB-W\fR \fIwidth\fR] [\fB-e\fR \fIerror\fR] [\fB-f\fR \fIformat\fR]
.fi

.LP
.nf
\fB/usr/sadm/bin/helpdate\fR [\fB-W\fR \fIwidth\fR] [\fB-h\fR \fIhelp\fR] [\fB-f\fR \fIformat\fR]
.fi

.LP
.nf
\fB/usr/sadm/bin/valdate\fR [\fB-f\fR \fIformat\fR] \fIinput\fR
.fi

.SH 機能説明
.sp
.LP
\fBckdate\fR ユーティリティは、ユーザーに入力を要求するプロンプトを出力し、ユーザーの応答を検証します。このユーティリティでは、ユーザーに日付の入力を促すプロンプトメッセージ、ヘルプメッセージとエラーメッセージ、およびデフォルト値 (ユーザーが RETURN キーで応答した場合に返される値) をオプションにより定義できます。ユーザーの応答は、date コマンドで定義されている書式に一致したものでなければなりません。
.sp
.LP
メッセージの長さはすべて最大 70 文字に制限され、自動的に書式化されます。定義で使用されるスペース (復帰改行を含む) はすべて削除されます。\fB-W\fR オプションは、自動書式化を取り消します。メッセージ定義の最初または最後にチルド文字がある場合は、そこにデフォルトテキストが挿入されて、指定したテキストとデフォルトテキストの両方を表示することができます。
.sp
.LP
プロンプトメッセージ、ヘルプメッセージ、またはエラーメッセージが定義されていない場合は、デフォルトメッセージ (\fB「注意事項」\fRの項を参照) が表示されます。
.sp
.LP
\fBckdate\fR コマンドには、3 つのビジュアルツールモジュールがリンクされています。これらのモジュールは、\fBerrdate\fR (エラーメッセージを書式化して表示する)、\fBhelpdate\fR (ヘルプメッセージを書式化して表示する)、および \fBvaldate\fR (応答を検証する) です。これらのモジュールは、FML オブジェクトと組み合わせて使用する必要があります。この場合、FML オブジェクトはプロンプトを定義します。\fBerrdate\fR および \fBhelpdate\fR の各モジュールに \fBformat\fR が定義されている場合、メッセージには、指定した書式も含まれます。
.SH オプション
.sp
.LP
次のオプションがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fB-d\fR \fIdefault\fR\fR
.ad
.RS 14n
.rt  
\fIdefault\fR をデフォルト値として定義します。デフォルト値は、どのような書式も満たす必要はありません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-e\fR \fIerror\fR\fR
.ad
.RS 14n
.rt  
\fIerror\fR をエラーメッセージとして定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR \fIformat\fR\fR
.ad
.RS 14n
.rt  
入力を検証するときの基準となる書式を指定します。次の書式と定義を指定できます。 
.sp
.ne 2
.mk
.na
\fB\fB%b\fR =\fR
.ad
.RS 8n
.rt  
省略された月の名前 (jan、feb、mar)
.RE

.sp
.ne 2
.mk
.na
\fB\fB%B\fR =\fR
.ad
.RS 8n
.rt  
完全な月の名前 \fB%d\fR = 日 (01 ～ 31)
.RE

.sp
.ne 2
.mk
.na
\fB\fB%D\fR =\fR
.ad
.RS 8n
.rt  
%m/%d/%y の形式の日付 (デフォルトの書式)
.RE

.sp
.ne 2
.mk
.na
\fB\fB%e\fR =\fR
.ad
.RS 8n
.rt  
日 (1 ～ 31、1 桁の数字の前にはブランクが挿入されます)
.RE

.sp
.ne 2
.mk
.na
\fB\fB%h\fR =\fR
.ad
.RS 8n
.rt  
省略形の月の名前。\fB%b%\fR と同じ
.RE

.sp
.ne 2
.mk
.na
\fB\fB%m\fR =\fR
.ad
.RS 8n
.rt  
月 (01 ～ 12)
.RE

.sp
.ne 2
.mk
.na
\fB\fB%y\fR =\fR
.ad
.RS 8n
.rt  
西暦中の年 (たとえば、89)
.RE

.sp
.ne 2
.mk
.na
\fB\fB%Y\fR =\fR
.ad
.RS 8n
.rt  
\fBCCYY\fR の形式の年 (たとえば、1989)
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fB-h\fR\fI help\fR\fR
.ad
.RS 14n
.rt  
\fBhelp\fR をヘルプメッセージとして定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-k\fR\fI pid\fR\fR
.ad
.RS 14n
.rt  
ユーザーが中断を選択した場合、プロセス \fBID\fR \fIpid\fR のプロセスにシグナルを送信するようにします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR\fI prompt\fR\fR
.ad
.RS 14n
.rt  
\fIprompt\fR をプロンプトメッセージとして定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Q\fR\fR
.ad
.RS 14n
.rt  
有効な応答として終了 (quit) を使用できないようにします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fI signal\fR\fR
.ad
.RS 14n
.rt  
終了が選択された場合、\fB-k\fR オプションで定義されたプロセス \fBID\fR \fIpid\fR のプロセスに、シグナル \fBsignal\fR を送信するようにします。シグナルを指定しないと、\fBSIGTERM\fR を送信します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-W\fR\fI width\fR\fR
.ad
.RS 14n
.rt  
プロンプトメッセージ、ヘルプメッセージ、およびエラーメッセージを、\fBwidth\fR の行長に書式化します。
.RE

.SH オペランド
.sp
.LP
次のオペランドがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fIinput\fR\fR
.ad
.RS 9n
.rt  
書式基準と照合される入力
.RE

.SH 終了ステータス
.sp
.LP
次の終了値が返されます。
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 5n
.rt  
正常終了。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 5n
.rt  
入力で \fBEOF\fR が検出された、\fB-W\fR オプションで負の行長が指定された、または使用法に誤りがあった。
.RE

.sp
.ne 2
.mk
.na
\fB\fB3\fR\fR
.ad
.RS 5n
.rt  
ユーザー終了 (quit)。
.RE

.sp
.ne 2
.mk
.na
\fB\fB4\fR\fR
.ad
.RS 5n
.rt  
無効な書式引数。
.RE

.SH 属性
.sp
.LP
属性についての詳細は、\fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
.TE

.SH 関連項目
.sp
.LP
\fBattributes\fR(5)
.SH 注意事項
.sp
.LP
\fBckdate\fR のデフォルトのプロンプトは、次のとおりです。
.sp
.in +2
.nf
Enter the date [?,q]:
.fi
.in -2
.sp

.sp
.LP
デフォルトのエラーメッセージは、次のとおりです。
.sp
.in +2
.nf
ERROR - Please enter a date.  Format is <format>.
.fi
.in -2
.sp

.sp
.LP
デフォルトのヘルプメッセージは、次のとおりです。
.sp
.in +2
.nf
Please enter a date. Format is <format>.
.fi
.in -2
.sp

.sp
.LP
終了オプションを選択した場合 (かつ使用できる場合) は、リターンコード \fB3\fR と共に \fBq\fR が返されます。\fBvaldate\fR モジュールは、出力を生成しません。正常終了した場合は 0、失敗した場合には 0 以外の値を返します。
